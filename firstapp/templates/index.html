<!DOCTYPE html>
<html>
<head>
    <title>增删查改页面</title>
</head>
<body>
    <h1>增删查改页面</h1>

    <!-- 创建表单 -->
    <form method="POST" action="{% url 'create' %}">
        {% csrf_token %}
        <label for="title">标题:</label>
        <input type="text" id="title" name="title" required><br><br>
        <label for="author">作者:</label>
        <input type="text" id="author" name="author" required><br><br>
        <label for="publication_date">出版日期:</label>
        <input type="date" id="publication_date" name="publication_date" required><br><br>
        <label for="price">价格:</label>
        <input type="number" id="price" name="price" step="0.01" required><br><br>
        <input type="submit" value="添加">
    </form>

    <hr>

    <!-- 显示记录列表 -->
    <h2>记录列表</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>标题</th>
            <th>作者</th>
            <th>出版日期</th>
            <th>价格</th>
            <th>操作</th>
        </tr>
        {% for record in records %}
        <tr>
            <td>{{ record.id }}</td>
            <td>{{ record.title }}</td>
            <td>{{ record.author }}</td>
            <td>{{ record.publication_date }}</td>
            <td>{{ record.price }}</td>
            <td>
                <a href="{% url 'read' record.id %}">查看</a>
                <a href="{% url 'update' record.id %}">编辑</a>
                <a href="{% url 'delete' record.id %}">删除</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
